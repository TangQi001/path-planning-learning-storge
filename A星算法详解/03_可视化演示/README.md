# 03 可视化演示

## 模块概述

本模块提供A*算法的可视化演示，通过图形界面直观展示算法的搜索过程，帮助理解算法的工作原理。

## 文件说明

### astar_visualization.py
- **功能**: A*算法可视化演示
- **特点**:
  - 实时显示搜索过程
  - 多种测试场景
  - 交互式选择功能
  - 搜索统计信息

## 可视化功能

### 颜色编码
- 🟢 **绿色**: 起点
- 🔴 **红色**: 终点  
- ⬜ **白色**: 空地
- ⬛ **黑色**: 障碍物
- 🔷 **浅蓝色**: 开放列表（待探索节点）
- 🔸 **浅红色**: 关闭列表（已探索节点）
- 🟡 **黄色**: 最终路径

### 显示信息
- 搜索步数统计
- 探索节点数量
- 路径长度和代价
- 算法执行状态

## 测试场景

### 1. 简单场景 (Simple)
- **网格大小**: 5×5
- **特点**: 基础路径搜索
- **适用于**: 初学者理解算法基础

### 2. 复杂场景 (Complex)  
- **网格大小**: 10×10
- **特点**: 包含多个障碍物
- **适用于**: 测试算法绕障能力

### 3. 迷宫场景 (Maze)
- **网格大小**: 10×10
- **特点**: 复杂迷宫布局
- **适用于**: 挑战算法性能

## 运行方法

### 交互式运行
```bash
python astar_visualization.py
```

### 选择演示场景
程序启动后会提示选择：
```
=== A*算法可视化演示 ===
可用的测试场景:
1. simple
2. complex  
3. maze
请选择测试场景 (1-3):
```

### 选择启发函数
```
可用的启发函数:
1. euclidean (欧几里得距离)
2. manhattan (曼哈顿距离)
3. diagonal (对角距离)
请选择启发函数 (1-3):
```

## 预期输出

### 控制台输出
```
=== A*算法可视化演示 ===

场景: complex
起点: (0, 0)
终点: (9, 9)
网格大小: 10x10

使用启发函数: euclidean

开始搜索...
✅ 找到路径! 长度: 15 步
搜索步数: 23
路径: (0, 0) -> (1, 0) -> (2, 1) -> ... -> (9, 9)
```

### 图形界面
- 左侧显示搜索结果网格
- 右侧显示统计信息面板
- 实时更新搜索状态

## 技术实现

### 核心类

#### SimpleAStar类
```python
class SimpleAStar:
    def __init__(self, grid)
    def find_path_visual(self, start, goal)     # 带可视化的搜索
    def heuristic(self, a, b)                   # 启发函数
    def reconstruct_path(self, came_from, current)  # 路径重构
```

#### AStarVisualizer类  
```python
class AStarVisualizer:
    def __init__(self, grid, start, goal)
    def visualize_search(self)                   # 主可视化方法
    def show_result(self, ax, path, final_step)  # 显示结果
    def show_statistics(self, ax, search_steps, path)  # 显示统计
```

## 自定义场景

### 创建自定义网格
```python
custom_grid = [
    [0, 0, 1, 0, 0],
    [0, 1, 0, 1, 0], 
    [0, 0, 0, 0, 0],
    [1, 1, 0, 1, 1],
    [0, 0, 0, 0, 0]
]

visualizer = AStarVisualizer(custom_grid, (0, 0), (4, 4))
path, steps = visualizer.visualize_search()
```

### 添加新测试场景
在 `create_test_grids()` 函数中添加：
```python
def create_test_grids():
    grids = {
        # 现有场景...
        'your_scenario': your_custom_grid
    }
    return grids
```

## 性能分析

### 搜索效率指标
- **探索节点数**: 算法搜索效率
- **搜索步数**: 算法迭代次数  
- **路径长度**: 找到路径的步数
- **执行时间**: 算法运行耗时

### 不同启发函数比较
| 启发函数 | 适用场景 | 优点 | 缺点 |
|---------|---------|------|------|
| Euclidean | 任意方向移动 | 最精确 | 计算复杂 |
| Manhattan | 四方向移动 | 计算简单 | 在对角移动时不准确 |
| Diagonal | 八方向移动 | 平衡精确度和效率 | 中等精确度 |

## 教学应用

### 课堂演示
1. 展示算法基本概念
2. 对比不同启发函数效果
3. 分析算法性能特点
4. 讨论实际应用场景

### 学习建议
1. **观察搜索过程**: 理解开放/关闭列表变化
2. **对比不同场景**: 体验算法适应性
3. **分析统计数据**: 量化算法性能
4. **尝试自定义场景**: 验证算法鲁棒性

## 故障排除

### 常见问题
1. **matplotlib中文显示问题**
   ```python
   plt.rcParams['font.sans-serif'] = ['SimHei', 'DejaVu Sans']
   ```

2. **图形窗口不显示**
   - 检查是否安装了图形后端
   - 尝试使用 `plt.show(block=True)`

3. **内存使用过多**
   - 减小网格尺寸
   - 优化搜索历史存储

## 扩展功能建议

1. **动画播放**: 添加逐帧动画展示
2. **参数调节**: 实时调整算法参数
3. **性能对比**: 多算法并行比较
4. **3D可视化**: 立体显示搜索过程

## 下一步学习

完成可视化学习后，建议进入：
- `04_3D应用`: 学习三维空间路径规划
- `05_测试数据`: 了解算法测试方法
- `06_高级特性`: 探索算法优化技术 